{% extends "layout.html" %}

{% block title %}
Buy
{% endblock %}

{% block main %}
<div class="mb-3">
    <h2>Current cash available: {{ cash_avail }}</h2>
</div>
<form action="/buy" method="post">
    <div class="mb-3">
        <input autocomplete="off" autofocus class="form-control mx-auto w-auto" name="symbol" placeholder="Symbol"
            value="{{ symbol }}" type="text">
    </div>

    <div>
        <div class="mb-3">
            <input class="form-control mx-auto w-auto" name="shares" placeholder="No. of shares" type="number"
                value="{{ shares }}" min="0">
        </div>
        <button class="btn btn-primary" type="submit" name="button" value="check-prices">Check prices</button>
        <button class="btn btn-primary" type="submit" name="button" value="buy">Buy</button>
        {% if info %}
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Symbol</th>
                        <th>Price</th>
                        <th>Total Cost</th>
                        <th>Max. shares able to be bought</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{{ info["symbol"] }}</td>
                        <td>{{ info["price"] }}</td>
                        <td>{{ info["total_cost"] }}</td>
                        <td>{{ info["max_shares"] }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        {% endif %}
    </div>
</form>
{% endblock %}